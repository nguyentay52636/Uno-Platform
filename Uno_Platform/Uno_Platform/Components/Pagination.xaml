<UserControl x:Class="Uno_Platform.Components.Pagination"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  
  <UserControl.Resources>
    <!-- Pagination Button Style -->
    <Style x:Key="PaginationButtonStyle" TargetType="Button">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="CornerRadius" Value="10"/>
      <Setter Property="Padding" Value="0"/>
      <Setter Property="Width" Value="40"/>
      <Setter Property="Height" Value="40"/>
      <Setter Property="FontSize" Value="14"/>
      <Setter Property="FontWeight" Value="SemiBold"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <Border x:Name="RootBorder"
                    Background="{TemplateBinding Background}"
                    CornerRadius="{TemplateBinding CornerRadius}"
                    Padding="{TemplateBinding Padding}">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
              <VisualStateManager.VisualStateGroups>
                <VisualStateGroup x:Name="CommonStates">
                  <VisualState x:Name="Normal"/>
                  <VisualState x:Name="PointerOver">
                    <Storyboard>
                      <ColorAnimation Storyboard.TargetName="RootBorder"
                                      Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                      To="#153D5A5B"
                                      Duration="0:0:0.15"/>
                    </Storyboard>
                  </VisualState>
                  <VisualState x:Name="Pressed">
                    <Storyboard>
                      <ColorAnimation Storyboard.TargetName="RootBorder"
                                      Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                      To="#303D5A5B"
                                      Duration="0:0:0.1"/>
                    </Storyboard>
                  </VisualState>
                  <VisualState x:Name="Disabled">
                    <Storyboard>
                      <DoubleAnimation Storyboard.TargetName="RootBorder"
                                       Storyboard.TargetProperty="Opacity"
                                       To="0.4"
                                       Duration="0:0:0.1"/>
                    </Storyboard>
                  </VisualState>
                </VisualStateGroup>
              </VisualStateManager.VisualStateGroups>
            </Border>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- Active Page Button Style -->
    <Style x:Key="ActivePageButtonStyle" TargetType="Button">
      <Setter Property="Background" Value="{StaticResource PrimaryGradientBrush}"/>
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="CornerRadius" Value="10"/>
      <Setter Property="Padding" Value="0"/>
      <Setter Property="Width" Value="40"/>
      <Setter Property="Height" Value="40"/>
      <Setter Property="FontSize" Value="14"/>
      <Setter Property="FontWeight" Value="Bold"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <Border x:Name="RootBorder"
                    Background="{TemplateBinding Background}"
                    CornerRadius="{TemplateBinding CornerRadius}"
                    Padding="{TemplateBinding Padding}">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
              <VisualStateManager.VisualStateGroups>
                <VisualStateGroup x:Name="CommonStates">
                  <VisualState x:Name="Normal"/>
                  <VisualState x:Name="PointerOver">
                    <Storyboard>
                      <DoubleAnimation Storyboard.TargetName="RootBorder"
                                       Storyboard.TargetProperty="Opacity"
                                       To="0.9"
                                       Duration="0:0:0.15"/>
                    </Storyboard>
                  </VisualState>
                  <VisualState x:Name="Pressed">
                    <Storyboard>
                      <DoubleAnimation Storyboard.TargetName="RootBorder"
                                       Storyboard.TargetProperty="Opacity"
                                       To="0.8"
                                       Duration="0:0:0.1"/>
                    </Storyboard>
                  </VisualState>
                </VisualStateGroup>
              </VisualStateManager.VisualStateGroups>
            </Border>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- Navigation Arrow Button Style -->
    <Style x:Key="NavArrowButtonStyle" TargetType="Button">
      <Setter Property="Background" Value="{StaticResource SurfaceBrush}"/>
      <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
      <Setter Property="CornerRadius" Value="10"/>
      <Setter Property="Padding" Value="0"/>
      <Setter Property="Width" Value="40"/>
      <Setter Property="Height" Value="40"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <Border x:Name="RootBorder"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="{TemplateBinding CornerRadius}"
                    Padding="{TemplateBinding Padding}">
              <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
              <VisualStateManager.VisualStateGroups>
                <VisualStateGroup x:Name="CommonStates">
                  <VisualState x:Name="Normal"/>
                  <VisualState x:Name="PointerOver">
                    <Storyboard>
                      <ColorAnimation Storyboard.TargetName="RootBorder"
                                      Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                      To="#F1F5F9"
                                      Duration="0:0:0.15"/>
                    </Storyboard>
                  </VisualState>
                  <VisualState x:Name="Pressed">
                    <Storyboard>
                      <ColorAnimation Storyboard.TargetName="RootBorder"
                                      Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)"
                                      To="#E2E8F0"
                                      Duration="0:0:0.1"/>
                    </Storyboard>
                  </VisualState>
                  <VisualState x:Name="Disabled">
                    <Storyboard>
                      <DoubleAnimation Storyboard.TargetName="RootBorder"
                                       Storyboard.TargetProperty="Opacity"
                                       To="0.4"
                                       Duration="0:0:0.1"/>
                    </Storyboard>
                  </VisualState>
                </VisualStateGroup>
              </VisualStateManager.VisualStateGroups>
            </Border>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>
  </UserControl.Resources>

  <!-- Main Pagination Container -->
  <Border Background="{StaticResource SurfaceBrush}"
          CornerRadius="16"
          Padding="16,12"
          BorderBrush="{StaticResource BorderBrush}"
          BorderThickness="1"
          HorizontalAlignment="Center">
    
    <Grid ColumnDefinitions="Auto,*,Auto">
      
      <!-- Page Info (Left) -->
      <StackPanel Grid.Column="0" 
                  Orientation="Horizontal" 
                  Spacing="8"
                  VerticalAlignment="Center"
                  Margin="0,0,20,0">
        <TextBlock Text="Hiển thị"
                   FontSize="13"
                   Foreground="{StaticResource TextSecondaryBrush}"
                   VerticalAlignment="Center"/>
        <Border Background="{StaticResource PrimaryLightBrush}"
                CornerRadius="6"
                Padding="8,4"
                Opacity="0.15">
          <TextBlock x:Name="CurrentRangeText"
                     Text="1-5"
                     FontSize="13"
                     FontWeight="Bold"
                     Foreground="{StaticResource PrimaryBrush}"
                     VerticalAlignment="Center"/>
        </Border>
        <TextBlock Text="/"
                   FontSize="13"
                   Foreground="{StaticResource TextSecondaryBrush}"
                   VerticalAlignment="Center"/>
        <TextBlock x:Name="TotalItemsText"
                   Text="20"
                   FontSize="13"
                   FontWeight="SemiBold"
                   Foreground="{StaticResource TextPrimaryBrush}"
                   VerticalAlignment="Center"/>
        <TextBlock Text="sản phẩm"
                   FontSize="13"
                   Foreground="{StaticResource TextSecondaryBrush}"
                   VerticalAlignment="Center"/>
      </StackPanel>

      <!-- Page Numbers (Center) -->
      <StackPanel Grid.Column="1" 
                  Orientation="Horizontal" 
                  HorizontalAlignment="Center"
                  Spacing="6">
        
        <!-- First Page Button -->
        <Button x:Name="FirstPageButton"
                Style="{StaticResource NavArrowButtonStyle}"
                Click="FirstPage_Click"
                ToolTipService.ToolTip="Trang đầu">
          <SymbolIcon Symbol="Previous" RenderTransformOrigin="0.5,0.5">
            <SymbolIcon.RenderTransform>
              <ScaleTransform ScaleX="0.8" ScaleY="0.8"/>
            </SymbolIcon.RenderTransform>
          </SymbolIcon>
        </Button>

        <!-- Previous Button -->
        <Button x:Name="PrevButton"
                Style="{StaticResource NavArrowButtonStyle}"
                Click="PrevPage_Click"
                ToolTipService.ToolTip="Trang trước">
          <SymbolIcon Symbol="Back" RenderTransformOrigin="0.5,0.5">
            <SymbolIcon.RenderTransform>
              <ScaleTransform ScaleX="0.8" ScaleY="0.8"/>
            </SymbolIcon.RenderTransform>
          </SymbolIcon>
        </Button>

        <!-- Page Numbers Container -->
        <StackPanel x:Name="PageNumbersPanel" 
                    Orientation="Horizontal" 
                    Spacing="4"/>

        <!-- Next Button -->
        <Button x:Name="NextButton"
                Style="{StaticResource NavArrowButtonStyle}"
                Click="NextPage_Click"
                ToolTipService.ToolTip="Trang sau">
          <SymbolIcon Symbol="Forward" RenderTransformOrigin="0.5,0.5">
            <SymbolIcon.RenderTransform>
              <ScaleTransform ScaleX="0.8" ScaleY="0.8"/>
            </SymbolIcon.RenderTransform>
          </SymbolIcon>
        </Button>

        <!-- Last Page Button -->
        <Button x:Name="LastPageButton"
                Style="{StaticResource NavArrowButtonStyle}"
                Click="LastPage_Click"
                ToolTipService.ToolTip="Trang cuối">
          <SymbolIcon Symbol="Next" RenderTransformOrigin="0.5,0.5">
            <SymbolIcon.RenderTransform>
              <ScaleTransform ScaleX="0.8" ScaleY="0.8"/>
            </SymbolIcon.RenderTransform>
          </SymbolIcon>
        </Button>
      </StackPanel>

      <!-- Quick Jump (Right) -->
      <StackPanel Grid.Column="2" 
                  Orientation="Horizontal" 
                  Spacing="8"
                  VerticalAlignment="Center"
                  Margin="20,0,0,0">
        <TextBlock Text="Đến trang"
                   FontSize="13"
                   Foreground="{StaticResource TextSecondaryBrush}"
                   VerticalAlignment="Center"/>
        <TextBox x:Name="PageJumpTextBox"
                 Width="50"
                 Height="36"
                 FontSize="13"
                 TextAlignment="Center"
                 CornerRadius="8"
                 BorderBrush="{StaticResource BorderBrush}"
                 BorderThickness="1"
                 Padding="8,6"
                 KeyDown="PageJump_KeyDown"/>
        <Button Content="Đi"
                Width="44"
                Height="36"
                FontSize="13"
                FontWeight="Bold"
                Background="#3D5A5B"
                Foreground="White"
                CornerRadius="10"
                Click="GoToPage_Click"/>
      </StackPanel>
      
    </Grid>
  </Border>
</UserControl>

