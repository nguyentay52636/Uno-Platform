<UserControl x:Class="Uno_Platform.Components.CartItemCard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:models="using:Uno_Platform.Models"
             xmlns:converters="using:Uno_Platform.Converters">

  <!-- Cart Item Card - Mobile Friendly -->
  <Border x:Name="ItemCard"
          Background="White"
          CornerRadius="16"
          Margin="0,0,0,12"
          Padding="12">
    
    <Grid ColumnDefinitions="Auto,*">
      
      <!-- Product Image -->
      <Border Grid.Column="0"
              Width="100"
              Height="100"
              Background="#FDF5F0"
              CornerRadius="12"
              Margin="0,0,12,0">
        <Image Source="{x:Bind CartItem.ProductImage, Mode=OneWay}"
               Stretch="Uniform"
               HorizontalAlignment="Center"
               VerticalAlignment="Center"
               MaxHeight="80"
               MaxWidth="80"/>
      </Border>

      <!-- Product Info -->
      <Grid Grid.Column="1" RowDefinitions="Auto,Auto,Auto,Auto">
        
        <!-- Product Name -->
        <TextBlock Grid.Row="0"
                   Text="{x:Bind CartItem.ProductName, Mode=OneWay}"
                   FontSize="16"
                   FontWeight="Bold"
                   Foreground="#1A1A1A"
                   TextTrimming="CharacterEllipsis"
                   MaxLines="2"/>
        
        <!-- Category -->
        <TextBlock Grid.Row="1"
                   Text="{x:Bind CartItem.ProductCategory, Mode=OneWay}"
                   FontSize="12"
                   Foreground="#888"
                   Margin="0,2,0,8"/>
        
        <!-- Price per item -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" Spacing="4">
          <TextBlock Text="ÄÆ¡n giÃ¡:"
                     FontSize="12"
                     Foreground="#666"
                     VerticalAlignment="Center"/>
          <TextBlock Text="{x:Bind CartItem.ProductPrice, Mode=OneWay, Converter={StaticResource PriceFormatConverter}}"
                     FontSize="14"
                     FontWeight="SemiBold"
                     Foreground="#367419"
                     VerticalAlignment="Center"/>
        </StackPanel>
        
        <!-- Quantity Stepper + Total -->
        <Grid Grid.Row="3" ColumnDefinitions="Auto,*" Margin="0,10,0,0">
          
          <!-- Quantity Stepper -->
          <Border Grid.Column="0"
                  Background="#F5F5F5"
                  CornerRadius="10"
                  Padding="4">
            <StackPanel Orientation="Horizontal" Spacing="0">
              <!-- Decrease Button -->
              <Button Style="{StaticResource NoHoverSmallButtonStyle}"
                      Click="DecreaseQuantity_Click">
                <TextBlock Text="âˆ’" FontSize="18" FontWeight="Bold" Foreground="White"/>
              </Button>
              
              <!-- Quantity Display -->
              <Border MinWidth="44" Padding="8,0">
                <TextBlock Text="{x:Bind CartItem.Quantity, Mode=OneWay}"
                           FontSize="16"
                           FontWeight="Bold"
                           Foreground="#367419"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
              </Border>
              
              <!-- Increase Button -->
              <Button Style="{StaticResource NoHoverSmallButtonStyle}"
                      Click="IncreaseQuantity_Click">
                <TextBlock Text="+" FontSize="18" FontWeight="Bold" Foreground="White"/>
              </Button>
            </StackPanel>
          </Border>
          
          <!-- Total Price + Remove -->
          <StackPanel Grid.Column="1" 
                      HorizontalAlignment="Right"
                      VerticalAlignment="Center">
            <TextBlock FontSize="18"
                       FontWeight="Bold"
                       Foreground="#367419"
                       HorizontalAlignment="Right">
              <Run Text="$ "/>
              <Run Text="{x:Bind CartItem.TotalPrice, Mode=OneWay}"/>
            </TextBlock>
            <Button Content="ðŸ—‘ï¸ XÃ³a"
                    Style="{StaticResource NoHoverDeleteButtonStyle}"
                    HorizontalAlignment="Right"
                    Click="Remove_Click"/>
          </StackPanel>
          
        </Grid>
      </Grid>
      
    </Grid>
  </Border>
</UserControl>
